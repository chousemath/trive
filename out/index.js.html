<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: index.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: index.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>"use strict";
exports.__esModule = true;
var R = require("ramda");
var mapIndexed = R.addIndex(R.map);
var joinBlank = R.join('');
var C = require("./data/common.js");
/**
 * Makes sure that a single digit numeric string is padded with a zero in front.
 * @constructor
 * @param {string} original - The original numeric string to change (or return).
 */
exports.padSingleDigitString = function (original) {
    return original.length === 1 ? '0' + original : original;
};
/**
 * Makes sure that a single digit numeric value (number or string) is padded with a zero in front.
 * @constructor
 * @param {(number|string)} original - The original numeric value (number or string) to change (or return).
 */
exports.padNumber = function (original) {
    if (!original)
        return '';
    var type = typeof original;
    if (type === 'string')
        return exports.padSingleDigitString(original);
    else if (type === 'number')
        return exports.padSingleDigitString('' + original);
    else
        return '';
};
/**
 * Formats a year, month, and day value into a string form appropriate for our database.
 * @constructor
 * @param {(number|string)} year - The year value of the date.
 * @param {(number|string)} month - The month value of the date.
 * @param {(number|string)} day - The day value of the date.
 */
exports.assembleDateString = function (year, month, day) {
    if (!year || !month || !day)
        return '';
    return exports.padNumber(year) + exports.padNumber(month) + exports.padNumber(day);
};
var regexCarNumber = /^[0-9][0-9][^a-zA-Z0-9][0-9][0-9][0-9][0-9]+$/;
/**
 * Decides whether or not an input string is a valid, Korean license plate number (차량번호).
 * @constructor
 * @param {string} carNumber - The license plate number in question.
 */
exports.isValidCarNumber = function (carNumber) { return regexCarNumber.test(carNumber) &amp;&amp; carNumber.length === 7; };
/**
 * Converts a brand key (used in Firebase) to the appropriate, Korean brand name.
 * @constructor
 * @param {string} brandKey - The Firebase key for a particular brand.
 */
exports.brandKeyToName = function (brandKey) { return (brandKey in C.Common.Brand) ? C.Common.Brand[brandKey].name : brandKey; };
/**
 * Converts a transmission key (used in Firebase) to the appropriate, Korean name for that transmission type.
 * @constructor
 * @param {string} transmissionKey - The Firebase key for a particular transmission type.
 */
exports.transmissionKeyToName = function (transmissionKey) { return (transmissionKey in C.Common.Transmission) ? C.Common.Transmission[transmissionKey].name : transmissionKey; };
var transformNumericString = function (original) {
    if (!original)
        return '';
    var limit = original.length - 1;
    var reversedWithCommas = mapIndexed(function (val, idx) {
        var cond1 = (idx + 1) % 3 === 0;
        var cond2 = idx !== limit;
        return (cond1 &amp;&amp; cond2) ? ',' + val : val;
    }, R.reverse(original));
    return joinBlank(R.reverse(reversedWithCommas));
};
exports.transformNumber = function (original) {
    if (original === undefined || original === null)
        return '';
    var type = typeof original;
    if (type === 'string')
        return transformNumericString(original);
    if (type === 'number')
        return transformNumericString(original.toString());
    else
        return '';
};
var formatPrice = function (price, unit) {
    if (price === undefined || price === null || typeof price !== 'number')
        return '';
    return transformNumericString(price.toString()) + unit + (unit === '원' ? '' : ' ');
};
exports.transformPrice = function (price) {
    var hundredMillionsNum = Math.floor(price / 100000000);
    var hundredMillions = hundredMillionsNum ? formatPrice(hundredMillionsNum, '억') : '';
    var tenThousandsNum = Math.floor((price % 100000000) / 10000);
    var tenThousands = tenThousandsNum ? formatPrice(tenThousandsNum, '만') : '';
    var ones = formatPrice(Math.floor((price % 100000000) % 10000), '원');
    return hundredMillions + tenThousands + ones;
};
var statusesServiceMessageBuy = ['noti-max-bidding', 'noti-success', 'noti-failure', 'noti-warn1', 'noti-warn2', 'winning', 'successful', 'failure', 'unselected'];
var filterServiceMessageBuy = function (service) {
    if (!service)
        return false;
    var correctType = 'type' in service &amp;&amp; service.type === 'used';
    var correctStatus = 'status' in service &amp;&amp; R.find(function (x) { return x === service.status; }, statusesServiceMessageBuy);
    return correctType &amp;&amp; correctStatus;
};
exports.filterServicesMessageBuy = function (services) { return R.filter(filterServiceMessageBuy, services); };
var filterServiceBidSuccess = function (service) {
    if (!service)
        return false;
    var correctType = 'type' in service &amp;&amp; service.type === 'used';
    var correctStatus = 'status' in service &amp;&amp; service.status === 'successful-card';
    return correctType &amp;&amp; correctStatus;
};
exports.filterServicesBidSuccess = function (services) { return R.filter(filterServiceBidSuccess, services); };
var statusesServiceBidFailure = ['failure-card', 'unselected-card'];
var filterServiceBidFailure = function (service) {
    if (!service)
        return false;
    var correctType = 'type' in service &amp;&amp; service.type === 'used';
    var correctStatus = 'status' in service &amp;&amp; R.find(function (x) { return x === service.status; }, statusesServiceBidFailure);
    return correctType &amp;&amp; correctStatus &amp;&amp; 'data' in service;
};
exports.filterServicesBidFailure = function (services) { return R.filter(filterServiceBidFailure, services); };
var statusesServiceMessageSell = ['review-accept', 'review-reject', 'booking-agent'];
var filterServiceMessageSell = function (service) {
    if (!service)
        return false;
    var correctType1 = 'type' in service &amp;&amp; service.type === 'inquiry';
    var correctType2 = 'type' in service &amp;&amp; service.type === 'used';
    var hasDataTag = 'data' in service &amp;&amp; 'tag' in service.data;
    var correctStatus = 'status' in service &amp;&amp; R.find(function (x) { return x === service.status; }, statusesServiceMessageSell);
    return (correctType1 &amp;&amp; hasDataTag) || (correctType2 &amp;&amp; correctStatus);
};
exports.filterServicesMessageSell = function (services) { return R.filter(filterServiceMessageSell, services); };
var filterServiceMessageService = function (service) {
    if (!service)
        return false;
    var correctType1 = 'type' in service &amp;&amp; service.type === 'inquiry';
    var correctType2 = 'type' in service &amp;&amp; (service.type === 'notice' || service.type === 'slot');
    var noDataTag = !(service.data) || !(service.data.tag);
    return (correctType1 &amp;&amp; noDataTag) || correctType2;
};
exports.filterServicesMessageService = function (services) { return R.filter(filterServiceMessageService, services); };
exports.reformatDateString = function (dateString) {
    if (!dateString)
        return '';
    var year = dateString.slice(0, 4);
    var month = dateString.slice(4, 6);
    var day = dateString.slice(6, 8);
    return year + '.' + month + '.' + day;
};
exports.obfuscatePhone = function (phone) {
    if (!phone)
        return '';
    var cleanPhone = phone.replace(/[^0-9.]/g, '');
    if (cleanPhone.length !== 11)
        return '';
    return cleanPhone.slice(0, 3) + '-****-' + cleanPhone.slice(7, 11);
};
exports.mapServiceType = function (serviceType) {
    if (!serviceType || !(serviceType in C.Common.ServiceTypes))
        return '';
    return C.Common.ServiceTypes[serviceType].name;
};
exports.mapCsType = function (csType) {
    if (!csType || !(csType in C.Common.CSStatus))
        return '';
    return C.Common.CSStatus[csType].name;
};
var miscPipeHandlers = {
    date: function (value) { return exports.reformatDateString(value); },
    phone: function (value) { return exports.obfuscatePhone(value); },
    service: function (value) { return exports.mapServiceType(value); },
    cs: function (value) { return exports.mapCsType(value); }
};
exports.handleMiscPipe = function (value, pipeType) {
    if (pipeType in miscPipeHandlers)
        return miscPipeHandlers[pipeType](value);
    return '';
};
// const tempImageArray = _.clone(this.vehicleImages); // defensive copying
// _.remove(tempImageArray, i => i === selectedImageUrl); // mutate tempImageArray
// const organizedImageArray = _.concat(selectedImageUrl, tempImageArray);
// export const reorganizeImages = (selectedImage: string, imageArray: Array&lt;string>): Array&lt;string> => {
// };
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="assembleDateString.html">assembleDateString</a></li><li><a href="brandKeyToName.html">brandKeyToName</a></li><li><a href="isValidCarNumber.html">isValidCarNumber</a></li><li><a href="padNumber.html">padNumber</a></li><li><a href="padSingleDigitString.html">padSingleDigitString</a></li><li><a href="transmissionKeyToName.html">transmissionKeyToName</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Mon May 28 2018 20:14:39 GMT+0900 (KST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
